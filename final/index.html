<!DOCTYPE html>
<html>
<head>
    <title>About Scrap Mechanic</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="icon" type="image/png" href="imgs/bearing.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <a href="https://www.github.com/CodingSyntax" title="Go to my Github page!" style="position: fixed; margin: 10px; height: 3vw; min-height: 30px; max-height: 40px;">
        <img id="gh" src="imgs/github.png" style="width: 3vw; min-width: 30px; max-width: 40px; transition: filter 2s ease 0s;">
    </a>
    <div id="upper">
        <div id="layer0" class="layer"></div>
        <div id="layer1" class="layer"></div>
        <div id="layer2" class="layer"></div>
        <div id="layer3" class="layer"></div>
        <div id="layer4" class="layer"></div>
        <div id="layer5" class="layer"></div>
        <div id="flex" class="flex-container">
            <a href="https://www.scrapmechanic.com" title="Buy the game!" style="align-self: center; position: relative; top: 10px; height: 10%;">
                <img src="imgs/sm.png" style="width: -webkit-fill-available; max-width: 100%; max-height: 200px;">
            </a>
            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.
                Ut wisis enim ad minim veniam, quis nostrud exerci tution ullam corper suscipit lobortis nisi ut aliquip ex ea commodo consequat. Duis te feugi facilisi.
                Duis autem dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio
                dignissim qui blandit praesent luptatum zzril delenit au gue duis dolore te feugat nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.
                Ut wisis enim ad minim veniam, quis nostrud exerci tution ullam corper suscipit lobortis nisi ut aliquip ex ea commodo consequat. Duis te feugi facilisi.
                Duis autem dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio
                dignissim qui blandit praesent luptatum zzril delenit au gue duis dolore te feugat nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.
                Ut wisis enim ad minim veniam, quis nostrud exerci tution ullam corper suscipit lobortis nisi ut aliquip ex ea commodo consequat. Duis te feugi facilisi.
                Duis autem dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio
                dignissim qui blandit praesent luptatum zzril delenit au gue duis dolore te feugat nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.
                Ut wisis enim ad minim veniam, quis nostrud exerci tution ullam corper suscipit lobortis nisi ut aliquip ex ea commodo consequat. Duis te feugi facilisi.
                Duis autem dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio
                dignissim qui blandit praesent luptatum zzril delenit au gue duis dolore te feugat nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.
                Ut wisis enim ad minim veniam, quis nostrud exerci tution ullam corper suscipit lobortis nisi ut aliquip ex ea commodo consequat. Duis te feugi facilisi.
                Duis autem dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio
                dignissim qui blandit praesent luptatum zzril delenit au gue duis dolore te feugat nulla facilisi.</p>
            <p>Check out this video!</p>
            <iframe class="youtube_player" width="780" height="480" src="https://www.youtube.com/embed/CrMAy18VRg4" title="YouTube video player" frameborder="0" 
            allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <p id="text-mid" style="transition: color 2s;">Here's a video on how to play. Note that this video is quite old, and as such, many new features (notably survival mode) have been added!</p>
            <iframe class="youtube_player" width="780" height="480" src="https://www.youtube.com/embed/owrWfQ206m8" title="YouTube video player" frameborder="0" 
            allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <p class="lower-text">Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.
                Ut wisis enim ad minim veniam, quis nostrud exerci tution ullam corper suscipit lobortis nisi ut aliquip ex ea commodo consequat. Duis te feugi facilisi.
                Duis autem dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio
                dignissim qui blandit praesent luptatum zzril delenit au gue duis dolore te feugat nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.
                Ut wisis enim ad minim veniam, quis nostrud exerci tution ullam corper suscipit lobortis nisi ut aliquip ex ea commodo consequat. Duis te feugi facilisi.
                Duis autem dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio
                dignissim qui blandit praesent luptatum zzril delenit au gue duis dolore te feugat nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.
                Ut wisis enim ad minim veniam, quis nostrud exerci tution ullam corper suscipit lobortis nisi ut aliquip ex ea commodo consequat. Duis te feugi facilisi.
                Duis autem dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio
                dignissim qui blandit praesent luptatum zzril delenit au gue duis dolore te feugat nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.
                Ut wisis enim ad minim veniam, quis nostrud exerci tution ullam corper suscipit lobortis nisi ut aliquip ex ea commodo consequat. Duis te feugi facilisi.
                Duis autem dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio
                dignissim qui blandit praesent luptatum zzril delenit au gue duis dolore te feugat nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.
                Ut wisis enim ad minim veniam, quis nostrud exerci tution ullam corper suscipit lobortis nisi ut aliquip ex ea commodo consequat. Duis te feugi facilisi.
                Duis autem dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio
                dignissim qui blandit praesent luptatum zzril delenit au gue duis dolore te feugat nulla facilisi.</p>
            <div style="display: flex;">
                <div class="lower-text" id="table" style="margin-right: 15px; border-color: darkgreen;">
                    <p>Pros:</p>
                    <ul>
                        <li>Lorem</li>
                        <li>Ipsum</li>
                        <li>Dolor</li>
                        <li>Sit</li>
                        <li>Amet</li>
                    </ul>
                </div>
                <div class="lower-text" id="table" style="margin-left: 15px; border-color: darkgoldenrod;">
                    <p>Cons:</p>
                    <ul>
                        <li>Lorem</li>
                        <li>Ipsum</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div id="lower">
    </div>
    <script> 
        document.onscroll = function () { parallax(); colorChanger(); };
        window.onload = function () { parallax(); fixLower();};
        window.onresize = fixLower;

        function fixLower() {
            let l = document.getElementById("lower");
            let u = document.getElementById("upper");
            let f = document.getElementById("flex");
            //set to 0 to properly calculate the empty space below upper
            //l.style.height =  "";
            let flex = f.getBoundingClientRect().height;
            let upper = u.getBoundingClientRect().height;

            let flexMargin = window.getComputedStyle(f).marginTop;
            let margin = window.getComputedStyle(l).marginTop;
            let upperPad =  window.getComputedStyle(u).paddingTop;
            l.style.height = `max(calc(${flex}px - (${upper}px + ${margin}) + ${upperPad} + ${flexMargin} + 1cm),${margin.substr(1,margin.length)})`;
        }

        function parallax() {
            let equilibrium = 2000;
            let scrollValue = document.documentElement.scrollTop || document.body.scrollTop;
            scrollValue = scrollValue < 0 ? 0 : scrollValue;

            let ids = ["layer0", "layer1", "layer2", "layer3", "layer4", "layer5"];
            let offsets = [1000, 250, 0, 0, 0, 1300];
            let multipliers = [0, -0.2, -0.5, -0.6, -0.8, -1.0];

            for (let i = 0; i < 6; ++i) {
                let layer = document.getElementById(ids[i]);
                let offset = (scrollValue - equilibrium) * multipliers[i] + offsets[i] - equilibrium;

                layer.style.webkitTransform = "translate3d(0, " + offset + "px, 0)";
                layer.style.MozTransform = "translate3d(0, " + offset + "px, 0)";
                layer.style.msTransform = "translateY(" + offset + "px)";
                layer.style.OTransform = "translate3d(0, " + offset + "px, 0)";
                layer.style.transform = "translate3d(0, " + offset + "px, 0)";
            
            }
        }

        function colorChanger() {
            let l5 = document.getElementById("layer5").getBoundingClientRect().y;
            //for text
            let text = document.getElementById("text-mid");
            if (l5 < text.getBoundingClientRect().y + 40) text.style.color = "white";
            else text.style.color = "black";

            //for github icon
            let icon = document.getElementById("gh");
            if (l5 < 20) icon.style.filter = "invert(1)";
            else icon.style.filter = "";
        }
    </script>
</body>
</html>